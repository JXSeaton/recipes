<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classic Chocolate Chip Cookies - Farm Recipe Template</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Montserrat:wght@300;400;500;600&display=swap');
        
        :root {
            --sage-primary: #9CAF88;
            --sage-light: #B8C5A6;
            --sage-dark: #7A8B69;
            --coral-primary: #E8A87C;
            --coral-light: #F2C4A5;
            --coral-dark: #D4956B;
            --cream: #FAF7F2;
            --warm-white: #FEFCF8;
            --charcoal: #3A3A3A;
            --soft-gray: #6B6B6B;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Text', serif;
            line-height: 1.7;
            color: var(--charcoal);
            background: linear-gradient(135deg, var(--cream) 0%, var(--warm-white) 100%);
            background-attachment: fixed;
        }

        .container {
            max-width: 850px;
            margin: 0 auto;
            padding: 40px 30px;
            background: var(--warm-white);
            box-shadow: 0 10px 40px rgba(154, 175, 136, 0.15);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }

        /* Decorative botanical elements */
        .container::before {
            content: '';
            position: absolute;
            top: -50px;
            right: -50px;
            width: 200px;
            height: 200px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M20,50 Q30,20 50,30 Q70,40 80,50 Q70,60 50,70 Q30,80 20,50' fill='%23B8C5A6' opacity='0.3'/%3E%3Cpath d='M50,10 Q60,20 70,30 Q60,40 50,50 Q40,40 30,30 Q40,20 50,10' fill='%23F2C4A5' opacity='0.4'/%3E%3C/svg%3E") no-repeat;
            background-size: contain;
            z-index: 0;
        }

        .container::after {
            content: '';
            position: absolute;
            bottom: -30px;
            left: -30px;
            width: 150px;
            height: 150px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M10,50 Q25,30 40,45 Q55,60 70,45 Q85,30 90,50 Q75,70 60,55 Q45,40 30,55 Q15,70 10,50' fill='%239CAF88' opacity='0.2'/%3E%3C/svg%3E") no-repeat;
            background-size: contain;
            z-index: 0;
        }

        .content-wrapper {
            position: relative;
            z-index: 1;
        }

        /* Header Section */
        .recipe-header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 3px solid var(--sage-primary);
            position: relative;
        }

        .recipe-header::after {
            content: 'üåø';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--warm-white);
            padding: 0 15px;
            font-size: 1.5rem;
        }

        .recipe-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 3rem;
            font-weight: 600;
            color: var(--sage-dark);
            margin-bottom: 0.8rem;
            text-shadow: 1px 1px 2px rgba(154, 175, 136, 0.1);
        }

        .recipe-subtitle {
            font-size: 1.3rem;
            color: var(--coral-dark);
            font-style: italic;
            font-weight: 400;
        }

        /* Recipe Meta Info */
        .recipe-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, var(--sage-light) 0%, var(--sage-primary) 100%);
            border-radius: 20px;
            box-shadow: inset 0 2px 10px rgba(122, 139, 105, 0.2);
            position: relative;
        }

        .recipe-meta::before {
            content: '';
            position: absolute;
            top: 10px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50'%3E%3Cpath d='M25,5 Q35,15 45,25 Q35,35 25,45 Q15,35 5,25 Q15,15 25,5' fill='%23FEFCF8' opacity='0.6'/%3E%3C/svg%3E") no-repeat center;
            background-size: contain;
        }

        .meta-item {
            text-align: center;
            background: var(--warm-white);
            padding: 1.2rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(122, 139, 105, 0.15);
        }

        .meta-label {
            font-family: 'Montserrat', sans-serif;
            font-weight: 500;
            color: var(--coral-dark);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 0.5rem;
        }

        .meta-value {
            font-size: 1.4rem;
            color: var(--sage-dark);
            font-weight: 600;
        }

        /* Recipe Image */
        .recipe-image {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 20px;
            margin: 3rem 0;
            box-shadow: 0 8px 30px rgba(154, 175, 136, 0.3);
            border: 4px solid var(--cream);
        }

        /* Description */
        .recipe-description {
            font-size: 1.2rem;
            color: var(--soft-gray);
            margin: 3rem 0;
            padding: 2rem;
            background: var(--cream);
            border-left: 6px solid var(--coral-primary);
            border-radius: 0 20px 20px 0;
            position: relative;
            box-shadow: 0 4px 20px rgba(232, 168, 124, 0.1);
        }

        .recipe-description::before {
            content: '"';
            font-size: 4rem;
            color: var(--coral-light);
            position: absolute;
            top: -10px;
            left: 15px;
            font-family: 'Crimson Text', serif;
        }

        /* Scale Calculator */
        .scale-calculator {
            margin: 3rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, var(--coral-light) 0%, var(--coral-primary) 100%);
            border-radius: 20px;
            border: 2px solid var(--coral-dark);
            position: relative;
        }

        .scale-calculator::before {
            content: '‚öñÔ∏è';
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.5rem;
        }

        .scale-calculator h3 {
            color: var(--warm-white);
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .scale-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .scale-controls label {
            color: var(--warm-white);
            font-weight: 500;
        }

        .scale-input {
            padding: 0.8rem;
            border: 2px solid var(--warm-white);
            border-radius: 10px;
            width: 90px;
            text-align: center;
            font-size: 1.1rem;
            background: var(--warm-white);
            color: var(--charcoal);
        }

        /* Section Titles */
        .section-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.2rem;
            font-weight: 600;
            color: var(--sage-dark);
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 3px solid var(--coral-primary);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--sage-primary);
            border-radius: 2px;
        }

        /* Ingredients Section */
        .ingredients-section, .instructions-section {
            margin: 3rem 0;
            position: relative;
        }

        .ingredients-list {
            list-style: none;
            background: var(--cream);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 6px 25px rgba(154, 175, 136, 0.1);
        }

        .ingredient-item {
            padding: 1rem 0;
            border-bottom: 1px solid var(--sage-light);
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .ingredient-item:hover {
            background: linear-gradient(90deg, var(--sage-light), transparent);
            padding-left: 1rem;
            border-radius: 10px;
        }

        .ingredient-item.checked {
            text-decoration: line-through;
            opacity: 0.6;
            background: linear-gradient(90deg, var(--coral-light), transparent);
        }

        .ingredient-checkbox {
            margin-right: 1rem;
            cursor: pointer;
            transform: scale(1.2);
            accent-color: var(--coral-primary);
        }

        /* Instructions Section */
        .instructions-list {
            counter-reset: step-counter;
        }

        .instruction-item {
            counter-increment: step-counter;
            margin-bottom: 2rem;
            padding: 2rem;
            background: var(--cream);
            border-radius: 20px;
            position: relative;
            padding-left: 5rem;
            box-shadow: 0 6px 25px rgba(154, 175, 136, 0.1);
            font-size: 1.1rem;
            border-left: 4px solid var(--sage-primary);
        }

        .instruction-item::before {
            content: counter(step-counter);
            position: absolute;
            left: 1.5rem;
            top: 2rem;
            background: linear-gradient(135deg, var(--coral-primary), var(--coral-dark));
            color: var(--warm-white);
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-family: 'Montserrat', sans-serif;
            box-shadow: 0 4px 15px rgba(232, 168, 124, 0.3);
        }

        /* Notes Section */
        .notes-section {
            margin: 3rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, var(--sage-light), var(--sage-primary));
            border-radius: 20px;
            position: relative;
            box-shadow: 0 8px 30px rgba(154, 175, 136, 0.2);
        }

        .notes-section::before {
            content: 'üìù';
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 1.8rem;
        }

        .notes-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.4rem;
            color: var(--warm-white);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .notes-content {
            color: var(--warm-white);
            font-size: 1.1rem;
        }

        .notes-content p {
            margin-bottom: 1rem;
        }

        .notes-content strong {
            color: var(--cream);
            font-weight: 600;
        }

        /* Nutrition Info */
        .nutrition-section {
            margin: 3rem 0;
            padding: 2rem;
            background: var(--cream);
            border-radius: 20px;
            border: 3px solid var(--sage-light);
            position: relative;
        }

        .nutrition-section::before {
            content: 'ü•Ñ';
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 1.8rem;
        }

        .nutrition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .nutrition-item {
            text-align: center;
            padding: 1.5rem;
            background: var(--warm-white);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(154, 175, 136, 0.1);
            border: 2px solid var(--sage-light);
        }

        .nutrition-value {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--coral-dark);
            font-family: 'Montserrat', sans-serif;
        }

        .nutrition-label {
            font-size: 0.95rem;
            color: var(--soft-gray);
            margin-top: 0.3rem;
        }

        /* Action Buttons */
        .action-buttons {
            margin: 3rem 0;
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.1rem;
            font-family: 'Montserrat', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--coral-primary), var(--coral-dark));
            color: var(--warm-white);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(232, 168, 124, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--sage-primary), var(--sage-dark));
            color: var(--warm-white);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(154, 175, 136, 0.4);
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
                font-size: 12pt;
            }
            
            .container {
                box-shadow: none;
                max-width: none;
                border-radius: 0;
            }
            
            .container::before,
            .container::after {
                display: none;
            }
            
            .action-buttons,
            .scale-calculator {
                display: none;
            }
            
            .recipe-image {
                max-height: 250px;
            }
            
            .instruction-item {
                break-inside: avoid;
                page-break-inside: avoid;
            }
            
            .ingredients-section,
            .instructions-section {
                break-inside: avoid;
            }
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
                border-radius: 0;
            }
            
            .recipe-title {
                font-size: 2.2rem;
            }
            
            .recipe-meta {
                grid-template-columns: repeat(2, 1fr);
                padding: 1.5rem;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .scale-controls {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content-wrapper">
            <!-- Recipe Header -->
            <header class="recipe-header">
                <h1 class="recipe-title">Classic Chocolate Chip Cookies</h1>
                <p class="recipe-subtitle">Fresh from our farmhouse kitchen, made with love</p>
            </header>

            <!-- Recipe Meta Information -->
            <div class="recipe-meta">
                <div class="meta-item">
                    <div class="meta-label">Prep Time</div>
                    <div class="meta-value">15 mins</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Cook Time</div>
                    <div class="meta-value">12 mins</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Total Time</div>
                    <div class="meta-value">27 mins</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Servings</div>
                    <div class="meta-value" id="servings">24 cookies</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Difficulty</div>
                    <div class="meta-value">Easy</div>
                </div>
            </div>

            <!-- Recipe Image -->
            <img src="https://images.unsplash.com/photo-1499636136210-6f4ee915583e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="Classic Chocolate Chip Cookies" class="recipe-image">

            <!-- Description -->
            <div class="recipe-description">
                These classic chocolate chip cookies have been a family favorite on our farm for generations. Made with farm-fresh eggs and the finest ingredients, they're crispy on the edges and delightfully chewy in the center. Perfect for sharing with neighbors or enjoying with a glass of fresh milk from our cows.
            </div>

            <!-- Scale Calculator -->
            <div class="scale-calculator">
                <h3>Recipe Scaler</h3>
                <div class="scale-controls">
                    <label for="scale-factor">Scale recipe by:</label>
                    <input type="number" id="scale-factor" class="scale-input" value="1" min="0.5" max="5" step="0.5">
                    <button class="btn btn-secondary" onclick="scaleRecipe()">Update Recipe</button>
                    <button class="btn btn-secondary" onclick="resetScale()">Reset</button>
                </div>
            </div>

            <!-- Ingredients Section -->
            <section class="ingredients-section">
                <h2 class="section-title">Fresh Ingredients</h2>
                <ul class="ingredients-list" id="ingredients-list">
                    <li class="ingredient-item" onclick="toggleIngredient(this)">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span class="ingredient-text"><span class="amount">2¬º</span> cups all-purpose flour</span>
                    </li>
                    <li class="ingredient-item" onclick="toggleIngredient(this)">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span class="ingredient-text"><span class="amount">1</span> tsp baking soda</span>
                    </li>
                    <li class="ingredient-item" onclick="toggleIngredient(this)">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span class="ingredient-text"><span class="amount">1</span> tsp sea salt</span>
                    </li>
                    <li class="ingredient-item" onclick="toggleIngredient(this)">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span class="ingredient-text"><span class="amount">1</span> cup farm butter, softened</span>
                    </li>
                    <li class="ingredient-item" onclick="toggleIngredient(this)">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span class="ingredient-text"><span class="amount">¬æ</span> cup granulated sugar</span>
                    </li>
                    <li class="ingredient-item" onclick="toggleIngredient(this)">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span class="ingredient-text"><span class="amount">¬æ</span> cup packed brown sugar</span>
                    </li>
                    <li class="ingredient-item" onclick="toggleIngredient(this)">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span class="ingredient-text"><span class="amount">2</span> large farm-fresh eggs</span>
                    </li>
                    <li class="ingredient-item" onclick="toggleIngredient(this)">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span class="ingredient-text"><span class="amount">2</span> tsp pure vanilla extract</span>
                    </li>
                    <li class="ingredient-item" onclick="toggleIngredient(this)">
                        <input type="checkbox" class="ingredient-checkbox">
                        <span class="ingredient-text"><span class="amount">2</span> cups premium chocolate chips</span>
                    </li>
                </ul>
            </section>

            <!-- Instructions Section -->
            <section class="instructions-section">
                <h2 class="section-title">Cooking Instructions</h2>
                <div class="instructions-list">
                    <div class="instruction-item">
                        Preheat your oven to 375¬∞F (190¬∞C). Line baking sheets with parchment paper or lightly grease them with farm butter.
                    </div>
                    <div class="instruction-item">
                        In a medium bowl, whisk together flour, baking soda, and sea salt. Set aside this dry mixture.
                    </div>
                    <div class="instruction-item">
                        In a large mixing bowl, cream together the softened butter, granulated sugar, and brown sugar until light and fluffy, about 3-4 minutes with an electric mixer.
                    </div>
                    <div class="instruction-item">
                        Beat in the farm-fresh eggs one at a time, then add vanilla extract. Mix until well combined and creamy.
                    </div>
                    <div class="instruction-item">
                        Gradually mix in the flour mixture until just combined. Don't overmix - this keeps the cookies tender.
                    </div>
                    <div class="instruction-item">
                        Gently fold in the chocolate chips with a wooden spoon, distributing them evenly throughout the dough.
                    </div>
                    <div class="instruction-item">
                        Drop rounded tablespoons of dough onto prepared baking sheets, spacing them about 2 inches apart for even baking.
                    </div>
                    <div class="instruction-item">
                        Bake for 9-11 minutes, or until edges are golden brown but centers still look slightly underbaked for that perfect chewy texture.
                    </div>
                    <div class="instruction-item">
                        Let cool on baking sheet for 5 minutes, then transfer to a wire rack to cool completely. Enjoy warm with a glass of farm-fresh milk!
                    </div>
                </div>
            </section>

            <!-- Notes Section -->
            <section class="notes-section">
                <h3 class="notes-title">Farmhouse Notes</h3>
                <div class="notes-content">
                    <p><strong>Storage:</strong> Store in our favorite mason jars for up to 1 week, or freeze in farm-labeled bags for up to 3 months.</p>
                    <p><strong>Farm Tips:</strong> For extra chewy cookies, slightly underbake them. For crispier cookies, bake 1-2 minutes longer. We love adding a pinch of flaky sea salt on top!</p>
                    <p><strong>Seasonal Variations:</strong> Try adding chopped walnuts from our trees, different chocolate varieties, or dried berries from our summer harvest.</p>
                </div>
            </section>

            <!-- Nutrition Information -->
            <section class="nutrition-section">
                <h3 class="section-title">Nutrition Information</h3>
                <p style="text-align: center; color: var(--soft-gray); margin-bottom: 1rem;">Per cookie (approximate values)</p>
                <div class="nutrition-grid">
                    <div class="nutrition-item">
                        <div class="nutrition-value">180</div>
                        <div class="nutrition-label">Calories</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-value">9g</div>
                        <div class="nutrition-label">Fat</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-value">24g</div>
                        <div class="nutrition-label">Carbs</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-value">2g</div>
                        <div class="nutrition-label">Protein</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-value">140mg</div>
                        <div class="nutrition-label">Sodium</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-value">15g</div>
                        <div class="nutrition-label">Sugar</div>
                    </div>
                </div>
            </section>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Print Recipe</button>
                <button class="btn btn-secondary" onclick="shareRecipe()">üì§ Share Recipe</button>
                <button class="btn btn-secondary" onclick="saveRecipe()">üíæ Save Recipe</button>
            </div>
        </div>
    </div>

    <script>
        // Store original ingredient amounts for scaling
        const originalAmounts = [];
        
        // Initialize original amounts on page load
        document.addEventListener('DOMContentLoaded', function() {
            const amounts = document.querySelectorAll('.amount');
            amounts.forEach(amount => {
                originalAmounts.push(amount.textContent);
            });
        });

        // Toggle ingredient as completed
        function toggleIngredient(item) {
            const checkbox = item.querySelector('.ingredient-checkbox');
            checkbox.checked = !checkbox.checked;
            item.classList.toggle('checked');
        }

        // Scale recipe functionality
        function scaleRecipe() {
            const scaleFactor = parseFloat(document.getElementById('scale-factor').value);
            const amounts = document.querySelectorAll('.amount');
            const servings = document.getElementById('servings');
            
            amounts.forEach((amount, index) => {
                const originalValue = originalAmounts[index];
                const newValue = scaleAmount(originalValue, scaleFactor);
                amount.textContent = newValue;
            });
            
            // Update servings
            const originalServings = 24;
            const newServings = Math.round(originalServings * scaleFactor);
            servings.textContent = newServings + ' cookies';
        }

        function resetScale() {
            document.getElementById('scale-factor').value = 1;
            const amounts = document.querySelectorAll('.amount');
            const servings = document.getElementById('servings');
            
            amounts.forEach((amount, index) => {
                amount.textContent = originalAmounts[index];
            });
            
            servings.textContent = '24 cookies';
        }

        function scaleAmount(originalAmount, scaleFactor) {
            // Handle fractions and mixed numbers
            const fractionRegex = /(\d+)?[\s]?(\d+)\/(\d+)/;
            const decimalRegex = /(\d+\.?\d*)/;
            
            let numericValue = 0;
            
            if (fractionRegex.test(originalAmount)) {
                const match = originalAmount.match(fractionRegex);
                const wholeNumber = match[1] ? parseInt(match[1]) : 0;
                const numerator = parseInt(match[2]);
                const denominator = parseInt(match[3]);
                numericValue = wholeNumber + (numerator / denominator);
            } else if (decimalRegex.test(originalAmount)) {
                numericValue = parseFloat(originalAmount.match(decimalRegex)[1]);
            } else {
                return originalAmount; // Return original if can't parse
            }
            
            const scaledValue = numericValue * scaleFactor;
            
            // Convert back to fraction format if appropriate
            if (scaledValue < 1 && scaledValue > 0) {
                return convertToFraction(scaledValue);
            } else if (scaledValue % 1 !== 0) {
                return scaledValue.toFixed(2).replace(/\.?0+$/, '');
            } else {
                return scaledValue.toString();
            }
        }

        function convertToFraction(decimal) {
            const commonFractions = {
                0.125: '‚Öõ', 0.25: '¬º', 0.333: '‚Öì', 0.375: '‚Öú',
                0.5: '¬Ω', 0.625: '‚Öù', 0.667: '‚Öî', 0.75: '¬æ', 0.875: '‚Öû'
            };
            
            for (let frac in commonFractions) {
                if (Math.abs(decimal - parseFloat(frac)) < 0.01) {
                    return commonFractions[frac];
                }
            }
            
            return decimal.toFixed(2);
        }

        // Share recipe functionality
        function shareRecipe() {
            if (navigator.share) {
                navigator.share({
                    title: document.querySelector('.recipe-title').textContent,
                    text: document.querySelector('.recipe-subtitle').textContent,
                    url: window.location.href
                });
            } else {
                // Fallback - copy URL to clipboard
                navigator.clipboard.writeText(window.location.href).then(() => {
                    alert('Recipe URL copied to clipboard!');
                });
            }
        }

        // Save recipe functionality (placeholder)
        function saveRecipe() {
            // In a real implementation, this would save to a user account or local storage
            alert('Recipe saved! (This is a demo - implement your own save functionality)');
        }

        // Print optimization
        window.addEventListener('beforeprint', function() {
            // Reset any checked ingredients for printing
            document.querySelectorAll('.ingredient-item.checked').forEach(item => {
                item.classList.remove('checked');
                item.querySelector('.ingredient-checkbox').checked = false;
            });
        });
    </script>
</body>
</html>